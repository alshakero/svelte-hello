var app=function(){"use strict";function t(){}function o(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(o)}function e(t){return"function"==typeof t}function s(t,o){return t!=t?o==o:t!==o||t&&"object"==typeof t||"function"==typeof t}function r(t,o){t.appendChild(o)}function h(t,o,n){t.insertBefore(o,n||null)}function p(t){t.parentNode.removeChild(t)}function c(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function l(t){return document.createTextNode(t)}function a(t,o,n,i){return t.addEventListener(o,n,i),()=>t.removeEventListener(o,n,i)}function u(t,o,n){null==n?t.removeAttribute(o):t.setAttribute(o,n)}let g;function d(t){g=t}const f=[],y=Promise.resolve();let m=!1;const w=[],$=[],x=[];function b(t){w.push(t)}function v(t){$.push(t)}function P(t){x.push(t)}function T(){const t=new Set;do{for(;f.length;){const t=f.shift();d(t),L(t.$$)}for(;w.length;)w.shift()();for(;$.length;){const o=$.pop();t.has(o)||(o(),t.add(o))}}while(f.length);for(;x.length;)x.pop()();m=!1}function L(t){t.fragment&&(t.update(t.dirty),i(t.before_render),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_render.forEach(v))}function _(t,o,n){-1!==t.$$.props.indexOf(o)&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function E(t,n,s){const{fragment:r,on_mount:h,on_destroy:p,after_render:c}=t.$$;r.m(n,s),v(()=>{const n=h.map(o).filter(e);p?p.push(...n):i(n),t.$$.on_mount=[]}),c.forEach(v)}function F(t,o){t.$$.dirty||(f.push(t),m||(m=!0,y.then(T)),t.$$.dirty=n()),t.$$.dirty[o]=!0}function A(o,e,s,r,h,p){const c=g;d(o);const l=e.props||{},a=o.$$={fragment:null,ctx:null,props:p,update:t,not_equal:h,bound:n(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(c?c.$$.context:[]),callbacks:n(),dirty:null};let u=!1;var f;a.ctx=s?s(o,l,(t,n)=>{a.ctx&&h(a.ctx[t],a.ctx[t]=n)&&(a.bound[t]&&a.bound[t](n),u&&F(o,t))}):l,a.update(),u=!0,i(a.before_render),a.fragment=r(a.ctx),e.target&&(e.hydrate?a.fragment.l((f=e.target,Array.from(f.childNodes))):a.fragment.c(),e.intro&&o.$$.fragment.i&&o.$$.fragment.i(),E(o,e.target,e.anchor),T()),d(c)}class B{$destroy(){var o,n;n=!0,(o=this).$$&&(i(o.$$.on_destroy),o.$$.fragment.d(n),o.$$.on_destroy=o.$$.fragment=null,o.$$.ctx={}),this.$destroy=t}$on(t,o){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(o),()=>{const t=n.indexOf(o);-1!==t&&n.splice(t,1)}}$set(){}}function M(o){var n,i,e,s,l,a,g,d,f,y,m,w,$,x,b,v,P,T,L,_,E,F,A,B,M,k,K,q,N,O,j,S,C,D,z,H,I,W,G,J,Q,R,U,V,X;return{c(){n=c("g"),i=c("polyline"),e=c("polyline"),s=c("rect"),l=c("rect"),a=c("rect"),g=c("rect"),d=c("rect"),f=c("rect"),y=c("rect"),m=c("polygon"),w=c("polygon"),$=c("polygon"),x=c("polygon"),b=c("polygon"),v=c("polygon"),P=c("polygon"),T=c("polygon"),L=c("polygon"),_=c("path"),E=c("path"),F=c("polygon"),A=c("polygon"),B=c("polygon"),M=c("polygon"),k=c("polygon"),K=c("polygon"),q=c("polygon"),N=c("polygon"),O=c("polygon"),j=c("polygon"),S=c("g"),C=c("rect"),D=c("polygon"),z=c("path"),H=c("polyline"),I=c("polygon"),W=c("polygon"),G=c("polygon"),J=c("polygon"),Q=c("polygon"),R=c("polygon"),U=c("polygon"),V=c("polyline"),u(i,"id","torso"),u(i,"fill","#FEEA3B"),u(i,"points","15.6,32.1 15.7,29 9.4,22.7\r\n    6.2,19.5 6.2,10.2 9.4,7.1 15.6,7.1 15.6,3.9 28.1,3.9 28.1,7.1 28.1,7.1\r\n    25,7.1 25,16.4 28.1,16.4 28.1,16.4 28.1,19.6 31.3,19.6 31.3,19.6 31.3,22.7\r\n    31.3,22.7 28.1,22.7 28.1,25.8 28.1,25.8 25,25.8 25,28.9 28.1,28.9 28.1,28.9\r\n    28.1,32.1 31.3,32.1 31.3,32.1 31.3,32.1 31.3,35.2 21.9,35.2 21.9,32.1\r\n    15.6,32.1 "),u(i,"class","svelte-sby6v3"),u(e,"points","18.8,28.9 15.6,28.9 15.6,32.1 18.8,32.1 "),u(s,"x","6.2"),u(s,"y","7"),u(s,"width","3.2"),u(s,"height","3.2"),u(l,"x","6.2"),u(l,"y","19.5"),u(l,"width","3.2"),u(l,"height","3.2"),u(a,"x","9.4"),u(a,"y","22.7"),u(a,"width","3.2"),u(a,"height","3.2"),u(g,"x","12.6"),u(g,"y","25.8"),u(g,"width","3.2"),u(g,"height","3.2"),u(d,"x","3"),u(d,"y","10.2"),u(d,"width","3.2"),u(d,"height","3.2"),u(f,"x","3"),u(f,"y","13.3"),u(f,"width","3.2"),u(f,"height","3.2"),u(y,"x","3"),u(y,"y","16.4"),u(y,"width","3.2"),u(y,"height","3.2"),u(m,"points","31.3,35.2 31.3,38.3 21.9,38.3 21.9,35.2 21.9,35.2 31.3,35.2\r\n    31.3,35.2 "),u(w,"points","50,25.8 46.9,25.8 46.9,25.8 46.9,22.7 46.9,22.7 50,22.7\r\n    50,25.8 "),u($,"points","40.6,10.2 43.8,10.2 43.8,19.6 46.9,19.6 46.9,22.7 46.9,22.7\r\n    31.3,22.7 31.3,19.6 40.6,19.6 40.6,10.2 40.6,10.2 "),u(x,"points","15.6,4 15.6,0.9 34.4,0.9 34.4,4 34.4,3.9 31.3,3.9 31.3,7.1\r\n    28.1,7.1 28.1,3.9 15.6,3.9 15.6,4 "),u(b,"points","9.4,7.1 9.4,3.9 15.6,3.9 15.6,3.9 15.6,7.1 9.4,7.1 9.4,7.1 "),u(v,"points","21.9,35.2 15.6,35.2 15.6,32.1 15.6,32.1 21.9,32.1 21.9,35.2\r\n    21.9,35.2 "),u(P,"points","37.5,7.1 40.6,7.1 40.6,10.2 40.6,10.2 37.5,10.2 37.5,10.2\r\n    37.5,7.1 37.5,7.1 "),u(T,"points","34.4,3.9 37.5,3.9 37.5,7.1 37.5,7.1 34.4,7.1 34.4,3.9\r\n    34.4,3.9 "),u(L,"points","46.9,25.8 46.9,35.2 31.2,35.2 31.3,35.2 31.2,32.1 43.8,32.1\r\n    43.8,28.9 31.3,28.9 31.3,25.8 46.9,25.8 46.9,25.8 "),u(_,"fill","#FEEA3B"),u(_,"d","M0,25.8"),u(E,"fill","#FEEA3B"),u(E,"d","M0,31.7"),u(F,"fill","#FE5722"),u(F,"points","46.9,25.8 31.2,25.8 31.3,25.8 31.3,22.7\r\n    31.2,22.7 46.9,22.7 46.9,25.8 "),u(A,"fill","#FEFEFE"),u(A,"points","34.4,3.9 34.4,7.1 37.5,7.1 37.5,10.2 34.4,10.2\r\n    34.4,16.4 37.5,16.4 37.5,10.2 40.6,10.2 40.6,19.6 31.2,19.6 31.3,19.6\r\n    31.3,16.4 28.1,16.4 28.1,16.5 28.1,7.1 28.1,7.1 31.3,7.1 31.3,3.9 34.4,3.9 "),u(B,"fill","#FE5722"),u(B,"points","31.2,28.9 43.8,28.9 43.8,32.1 31.2,32.1\r\n    31.3,32.1 31.3,28.9 31.2,28.9 "),u(M,"fill","#FE5722"),u(M,"points","31.3,25.8 31.3,28.9 31.3,28.9 28.1,28.9\r\n    28.1,29 28.1,25.8 28.1,25.8 31.3,25.8 31.3,25.8 "),u(k,"points","28.1,7.1 28.1,16.4 25,16.4 25,7.1 28.1,7.1 "),u(K,"points","28.1,16.4 31.3,16.4 31.3,19.6 28.1,19.6 28.1,16.4 "),u(q,"points","31.3,25.8 28.1,25.8 28.1,22.7 31.2,22.7 31.3,25.8 "),u(N,"points","28.1,25.8 28.1,28.9 25,28.9 25,25.8 28.1,25.8 "),u(O,"points","28.1,28.9 31.3,28.9 31.3,32.1 28.1,32.1 28.1,28.9 "),u(j,"points","37.5,10.2 37.5,16.4 34.4,16.4 34.4,10.2 37.5,10.2 37.5,10.2 "),u(C,"x","3.1"),u(C,"y","13.3"),u(C,"fill","#FFFFFF"),u(C,"width","18.7"),u(C,"height","12.5"),u(D,"points","21.9,25.7 18.8,25.7 18.8,22.6 21.9,22.6 21.9,25.7 "),u(z,"d","M18.8,32.1"),u(H,"points","15.6,28.9 6.3,28.9 6.3,25.8 6.3,25.8 18.8,25.8 18.8,28.9 "),u(I,"points","3.1,22.7 0,22.7 0,13.3 3.1,13.3 3.1,13.3 3.1,22.7 3.1,22.7 "),u(W,"points","6.3,25.8 3.1,25.8 3.1,22.7 3.1,22.7 6.3,22.7 6.3,22.7\r\n      6.3,25.8 6.3,25.8 "),u(G,"fill","#FEEA3B"),u(G,"points","6.3,22.7 18.8,22.7 18.7,25.8 18.8,25.8\r\n      6.2,25.8 6.3,22.7 "),u(J,"fill","#FEEA3B"),u(J,"points","3.2,19.6 6.3,19.6 6.3,22.7 3.1,22.7 3.2,19.6\r\n      "),u(Q,"points","21.9,19.6 21.9,16.4 25,16.4 25,22.7 21.9,22.7 21.8,22.7\r\n      21.9,19.6 "),u(R,"points","21.9,16.4 18.8,16.4 18.8,13.3 21.9,13.3 21.9,16.4 "),u(U,"fill","#FEEA3B"),u(U,"points","21.9,22.7 18.8,22.7 18.8,19.6 21.8,19.6\r\n      21.9,22.7 "),u(V,"points","9.4,10.2 15.6,10.2 15.6,13.3 0,13.3 0,13.3 0,13.3 0,10.2\r\n      6.3,10.2 "),u(S,"id","wing"),u(S,"class","svelte-sby6v3"),u(n,"data-has-lost",o.hasLost),u(n,"transform",X="translate("+o.x+" "+o.y+")"),u(n,"class","svelte-sby6v3")},m(t,o){h(t,n,o),r(n,i),r(n,e),r(n,s),r(n,l),r(n,a),r(n,g),r(n,d),r(n,f),r(n,y),r(n,m),r(n,w),r(n,$),r(n,x),r(n,b),r(n,v),r(n,P),r(n,T),r(n,L),r(n,_),r(n,E),r(n,F),r(n,A),r(n,B),r(n,M),r(n,k),r(n,K),r(n,q),r(n,N),r(n,O),r(n,j),r(n,S),r(S,C),r(S,D),r(S,z),r(S,H),r(S,I),r(S,W),r(S,G),r(S,J),r(S,Q),r(S,R),r(S,U),r(S,V)},p(t,o){t.hasLost&&u(n,"data-has-lost",o.hasLost),(t.x||t.y)&&X!==(X="translate("+o.x+" "+o.y+")")&&u(n,"transform",X)},i:t,o:t,d(t){t&&p(n)}}}function k(t,o,n){let{x:i,y:e,hasLost:s}=o;return t.$set=(t=>{"x"in t&&n("x",i=t.x),"y"in t&&n("y",e=t.y),"hasLost"in t&&n("hasLost",s=t.hasLost)}),{x:i,y:e,hasLost:s}}class K extends B{constructor(t){super(),A(this,t,k,M,s,["x","y","hasLost"])}}function q(t,o,n){const i=Object.create(t);return i.pipe=o[n],i}function N(t){var o,n,i,e;return{c(){u(o=c("rect"),"fill","yellow"),u(o,"transform",n="translate("+t.pipe.x+" "+t.pipe.y+")"),u(o,"width",i=t.pipe.width),u(o,"height",e=t.pipe.height)},m(t,n){h(t,o,n)},p(t,s){t.pipes&&n!==(n="translate("+s.pipe.x+" "+s.pipe.y+")")&&u(o,"transform",n),t.pipes&&i!==(i=s.pipe.width)&&u(o,"width",i),t.pipes&&e!==(e=s.pipe.height)&&u(o,"height",e)},d(t){t&&p(o)}}}function O(o){for(var n,i=o.pipes,e=[],s=0;s<i.length;s+=1)e[s]=N(q(o,i,s));return{c(){n=c("g");for(var t=0;t<e.length;t+=1)e[t].c()},m(t,o){h(t,n,o);for(var i=0;i<e.length;i+=1)e[i].m(n,null)},p(t,o){if(t.pipes){i=o.pipes;for(var s=0;s<i.length;s+=1){const r=q(o,i,s);e[s]?e[s].p(t,r):(e[s]=N(r),e[s].c(),e[s].m(n,null))}for(;s<e.length;s+=1)e[s].d(1);e.length=i.length}},i:t,o:t,d(t){t&&p(n),function(t,o){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(o)}(e,t)}}}function j(t,o,n){let{width:i,height:e,topTouchingPoint:s,bottomTouchingPoint:r,hasLost:h}=o,p=.2,c=1-p,l=.5*i,a=.05*i,u=a,g=i/a,d=5;const f=[];for(let t=0;t<g;t++)f.push({x:l+t*u,y:t%2*e*c,width:.05*i,height:e*p});return requestAnimationFrame(function t(){if(h)return;let o=0,y=e;for(let t=0;t<g;t++){if(f[t].x-=d,n("pipes",f),f[t].x<2*-a){let o=p*Math.random(),s=1-o;f[t].x=i,n("pipes",f),f[t].y=t%2*e*s,n("pipes",f),f[t].height=e*o,n("pipes",f)}m=f[t].x,w=l,Math.abs(m-w)<u&&(t%2==0?o=f[t].height:y=f[t].y)}var m,w;n("topTouchingPoint",s=o+15),n("bottomTouchingPoint",r=y-15),p<.48?(n("level",p+=1e-4),n("levelInverse",c=1-p)):n("speed",d+=.005),requestAnimationFrame(t)}),t.$set=(t=>{"width"in t&&n("width",i=t.width),"height"in t&&n("height",e=t.height),"topTouchingPoint"in t&&n("topTouchingPoint",s=t.topTouchingPoint),"bottomTouchingPoint"in t&&n("bottomTouchingPoint",r=t.bottomTouchingPoint),"hasLost"in t&&n("hasLost",h=t.hasLost)}),{width:i,height:e,topTouchingPoint:s,bottomTouchingPoint:r,hasLost:h,pipes:f}}class S extends B{constructor(t){super(),A(this,t,j,O,s,["width","height","topTouchingPoint","bottomTouchingPoint","hasLost"])}}function C(o){var n,i,e,s;return{c(){n=c("g"),i=c("text"),e=l(o.score),u(i,"x",s=o.width-o.length),u(i,"y","40"),u(i,"font-size","30px"),u(i,"font-family","monospace")},m(t,o){h(t,n,o),r(n,i),r(i,e)},p(t,o){var n,r;t.score&&(n=e,r=""+(r=o.score),n.data!==r&&(n.data=r)),(t.width||t.length)&&s!==(s=o.width-o.length)&&u(i,"x",s)},i:t,o:t,d(t){t&&p(n)}}}function D(t,o,n){let i,{width:e,score:s}=o;return t.$set=(t=>{"width"in t&&n("width",e=t.width),"score"in t&&n("score",s=t.score)}),t.$$.update=((t={score:1})=>{t.score&&n("length",i=30+15*s.toString().length)}),{width:e,score:s,length:i}}class z extends B{constructor(t){super(),A(this,t,D,C,s,["width","score"])}}function H(t){var o,n,e,s,r,g,d;function f(o){t.world_topTouchingPoint_binding.call(null,o),s=!0,P(()=>s=!1)}function y(o){t.world_bottomTouchingPoint_binding.call(null,o),r=!0,P(()=>r=!1)}let m={hasLost:t.hasLost,width:t.width,height:t.height};void 0!==t.topTouchingPoint&&(m.topTouchingPoint=t.topTouchingPoint),void 0!==t.bottomTouchingPoint&&(m.bottomTouchingPoint=t.bottomTouchingPoint);var w=new S({props:m});b(()=>_(w,"topTouchingPoint",f)),b(()=>_(w,"bottomTouchingPoint",y));var $=new K({props:{hasLost:t.hasLost,x:t.position.x,y:t.position.y}}),x=new z({props:{score:t.score,width:t.width}});return{c(){var i;i="audio",o=document.createElement(i),n=l(" "),e=c("svg"),w.$$.fragment.c(),$.$$.fragment.c(),x.$$.fragment.c(),o.loop=!0,o.src="./assets/music-loop.mp3",o.autoplay=!0,o.volume="0.2",u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),u(e,"x","0px"),u(e,"y","0px"),u(e,"viewBox","0 0 "+t.width+" "+t.height),u(e,"class","svelte-1wm465s"),d=[a(window,"keypress",t.handleKeypress),a(window,"keyup",t.handleKeyup)]},m(i,s){h(i,o,s),b(()=>t.audio_binding(o,null)),h(i,n,s),h(i,e,s),E(w,e,null),E($,e,null),E(x,e,null),g=!0},p(t,n){t.items&&(n.audio_binding(null,o),n.audio_binding(o,null));var i={};t.hasLost&&(i.hasLost=n.hasLost),t.width&&(i.width=n.width),t.height&&(i.height=n.height),!s&&t.topTouchingPoint&&(i.topTouchingPoint=n.topTouchingPoint),!r&&t.bottomTouchingPoint&&(i.bottomTouchingPoint=n.bottomTouchingPoint),w.$set(i);var e={};t.hasLost&&(e.hasLost=n.hasLost),t.position&&(e.x=n.position.x),t.position&&(e.y=n.position.y),$.$set(e);var h={};t.score&&(h.score=n.score),t.width&&(h.width=n.width),x.$set(h)},i(t){g||(w.$$.fragment.i(t),$.$$.fragment.i(t),x.$$.fragment.i(t),g=!0)},o(t){w.$$.fragment.o(t),$.$$.fragment.o(t),x.$$.fragment.o(t),g=!1},d(s){s&&p(o),t.audio_binding(null,o),s&&(p(n),p(e)),w.$destroy(),$.$destroy(),x.$destroy(),i(d)}}}const I=32;function W(t,o,n){let i,e,s,r=window.innerWidth,h=window.innerHeight,p=!1,c=0,l={x:0,y:h/2-25},a=.1,u=1;requestAnimationFrame(function t(){p?s.pause():(l.x-50<r/2&&(l.x+=5,n("position",l)),l.y+=a*u,n("position",l),n("accelaration",u+=.5),n("score",++c),Math.abs(l.y-i)<10&&n("hasLost",p=!0),Math.abs(l.y-e+20)<10&&n("hasLost",p=!0),requestAnimationFrame(t))});let g=!1;return{topTouchingPoint:i,bottomTouchingPoint:e,width:r,height:h,hasLost:p,score:c,player:s,position:l,handleKeypress:function(t){t.which!==I||g||(n("isKeyDown",g=!0),n("speed",a=-1),n("accelaration",u=1))},handleKeyup:function(t){t.which===I&&(n("isKeyDown",g=!1),n("speed",a=1),n("accelaration",u=1))},audio_binding:function(t,o){n("player",s=t)},world_topTouchingPoint_binding:function(t){n("topTouchingPoint",i=t)},world_bottomTouchingPoint_binding:function(t){n("bottomTouchingPoint",e=t)}}}return new class extends B{constructor(t){super(),A(this,t,W,H,s,[])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
